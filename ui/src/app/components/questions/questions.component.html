<div class="questionContainer" fxLayout="column">

    <div *ngIf="errorMessage">
        <mat-card class="error-card" fxLayoutAlign="center center">
            <mat-card-content class="section-title">
                {{errorMessage}}
            </mat-card-content>
        </mat-card>
    </div>



    <div *ngFor="let section of sections;let i=index">
        <mat-card class="section-card" *ngIf="section.show">
            <mat-card-header>
                <mat-card-title class="section-title">
                    <h3>{{section.section}}:</h3>
                </mat-card-title>
            </mat-card-header>

            <mat-card-content>
                <mat-card class="question-card" *ngFor="let question of questions[i]">

                    <mat-card-header>
                        <mat-card-title>{{question.title}}</mat-card-title>
                    </mat-card-header>

                    <mat-card-content>
                        <mat-radio-group #radio class="options" fxLayout="column" (change)="onChange($event,question,section.section)">
                            <mat-radio-button class="radio-option" *ngFor="let option of question.options" [value]="option.option">
                                {{option.option}}
                            </mat-radio-button>
                        </mat-radio-group>
                    </mat-card-content>

                </mat-card>
            </mat-card-content>

            <mat-card-actions>
                <button mat-button class="radio-submit" (click)="onSkip(i)">Skip</button>
                <button mat-button class="radio-submit" (click)="onSubmit(section.section,i)">Submit</button>
            </mat-card-actions>
        </mat-card>

    </div>